# 休憩ループタイマー ⏰

SNSでの休憩時間を管理して、仕事への復帰をサポートするChrome拡張機能です。

## 🎯 機能

- **自動バナー表示**: TwitterやX（旧Twitter）を開くと「10分だけ休憩する？」というバナーが表示されます
- **タイマー機能**: OKボタンを押すとタイマーが開始され、画面上部に残り時間が表示されます
- **デスクトップ通知**: 休憩終了の1分前に通知が表示されます
- **自動リダイレクト**: 休憩時間が終了すると、設定したURL（デフォルト: Notion）に自動的にリダイレクトされます
- **統計機能**: 休憩回数と総休憩時間を記録します

## 📦 インストール方法

### 開発者モードでのインストール

1. このリポジトリをクローンまたはダウンロードします

```bash
git clone <repository-url>
cd breakLoopTimer
```

2. Chromeで `chrome://extensions/` を開きます

3. 右上の「デベロッパーモード」をONにします

4. 「パッケージ化されていない拡張機能を読み込む」をクリック

5. このプロジェクトのフォルダ（breakLoopTimer）を選択します

6. 拡張機能が読み込まれ、使用可能になります

## 🚀 使い方

### 基本的な使い方

1. **Twitter/Xを開く**: TwitterまたはX（旧Twitter）のページを開くと、画面上部にバナーが表示されます

2. **休憩を開始**: 「OK」ボタンをクリックするとタイマーが開始されます

3. **休憩中**: 画面上部に残り時間が表示されます。「中止」ボタンでいつでも停止できます

4. **通知**: 残り1分になるとデスクトップ通知が表示されます

5. **自動リダイレクト**: 時間が経過すると、設定したURL（デフォルト: Notion）に自動的にリダイレクトされます

### 設定のカスタマイズ

拡張機能のアイコンをクリックし、「⚙️ 設定」ボタンから以下の項目をカスタマイズできます：

- **休憩時間**: 1分〜60分で設定可能（デフォルト: 10分）
- **警告時間**: 終了の何分前に通知するか（デフォルト: 1分前）
- **リダイレクト先URL**: 休憩終了後に開くページ（デフォルト: https://www.notion.so）
- **通知の有効/無効**: デスクトップ通知のON/OFF

## 📁 ファイル構成

```
breakLoopTimer/
├── manifest.json          # 拡張機能の設定ファイル
├── background.js          # バックグラウンドスクリプト（タイマー管理）
├── content.js            # コンテンツスクリプト（バナー表示）
├── content.css           # バナーのスタイル
├── popup.html            # ポップアップUI
├── popup.js              # ポップアップのロジック
├── options.html          # 設定ページ
├── options.js            # 設定ページのロジック
├── redirect.html         # リダイレクト完了ページ
├── redirect.js           # リダイレクトページのロジック
├── icons/                # アイコン画像
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md             # このファイル
```

## ⚙️ 技術仕様

- **Manifest Version**: 3
- **対応サイト**: Twitter (twitter.com)、X (x.com)
- **パーミッション**:
  - `notifications`: デスクトップ通知
  - `storage`: 設定と統計の保存
  - `tabs`: タブ操作
  - `alarms`: タイマー管理

## 🔧 開発

### 必要な環境

- Google Chrome または Chromium ベースのブラウザ
- テキストエディタ

### デバッグ

1. `chrome://extensions/` でデベロッパーモードを有効化
2. 拡張機能の「詳細」→「バックグラウンドページを検証」でデベロッパーツールを開く
3. コンソールでログを確認

### 変更の適用

ファイルを変更した後:
1. `chrome://extensions/` を開く
2. 拡張機能の「更新」ボタン（🔄）をクリック
3. ページをリロードして変更を確認

## 📝 今後の改善案

- [ ] 複数のSNSサイトに対応（Facebook、Instagram、YouTubeなど）
- [ ] 休憩時間のプリセット機能
- [ ] 統計のグラフ表示
- [ ] ポモドーロテクニックとの統合
- [ ] ホワイトリスト/ブラックリスト機能
- [ ] カスタムサウンド通知

## 📄 ライセンス

MIT License

## 🤝 コントリビューション

プルリクエストを歓迎します！バグ報告や機能提案はIssuesでお願いします。

---

**注意**: この拡張機能は生産性向上を目的としていますが、適度な休憩は重要です。無理のない範囲でご利用ください。
